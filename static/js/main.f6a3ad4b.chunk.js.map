{"version":3,"sources":["AddNew.js","Books.js","Back.js","Chapters.js","Arguments.js","books/in-memory.js","books/localStorage.js","App.js","serviceWorker.js","index.js"],"names":["AddNew","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","showInput","value","handleInput","bind","assertThisInitialized","handleAddClick","event","setState","target","add","react_default","a","createElement","Form_default","Row","Col_default","xs","Control","size","placeholder","onChange","Button_default","onClick","Component","Books","Container_default","books","map","book","key","id","react_router_dom","to","title","AddNew_AddNew","addNew","Back","goBack","history","variant","withRouter","Chapters","handleAdd","_this2","find","Row_default","chapters","chapter","concat","src_Back","Arguments","argument","bookId","chapterId","arguments","index","lastId","items","length","in_memory","withNewBook","toConsumableArray","withNewChapter","push","withNewArgument","books_localStorage","fetch","localStorage","getItem","JSON","parse","store","setItem","stringify","App","addBook","addChapter","addArgument","booksInMemory","booksInLocalStorage","react_router","path","exact","render","Books_Books","Arguments_Arguments","parseInt","match","params","Chapters_Chapters","Boolean","window","location","hostname","ReactDOM","App_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.f6a3ad4b.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\nexport default class AddNew extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {showInput: false, value: ''};\n    this.handleInput = this.handleInput.bind(this);\n    this.handleAddClick = this.handleAddClick.bind(this);\n  }\n\n  handleInput(event) {\n    this.setState({value: event.target.value});\n  }\n\n  handleAddClick() {\n    if(!this.state.showInput) {\n      this.setState({showInput: true});\n    } else {\n      this.props.add(this.state.value);\n      this.setState({showInput: false, value: ''});\n    }\n  }\n\n  render() {\n    return (\n      <Form.Row>\n        {this.state.showInput &&\n          <Col xs={9}>\n            <Form.Control \n              size=\"sm\"\n              placeholder={this.props.placeholder}\n              onChange={this.handleInput}\n            />\n          </Col>\n        }\n        <Col xs={3}>\n          <Button\n            size=\"sm\"\n            onClick={this.handleAddClick}\n          >\n            Add\n          </Button>\n        </Col>\n      </Form.Row>\n    );\n  }\n}\n","import { Link } from 'react-router-dom';\nimport React, { Component } from 'react';\nimport Container from 'react-bootstrap/Container';\n\nimport AddNew from './AddNew';\n\nexport default class Books extends Component {\n  render() {\n    return (\n      <Container>\n        <h1>Books</h1>\n        <ul>\n          {this.props.books.map(book => {\n            return (\n              <li key={book.id}>\n                <Link to={'/books/' + book.id}>\n                  {book.title}\n                </Link>\n              </li>\n            );\n          })}\n          <li>\n            <AddNew\n              placeholder=\"Book title\"\n              add={this.props.addNew}\n            />\n          </li>\n        </ul>\n      </Container>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { withRouter } from 'react-router-dom';\n\nclass Back extends Component {\n  constructor(props) {\n    super(props);\n    this.goBack = this.goBack.bind(this);\n  }\n\n  goBack() {\n    this.props.history.goBack();\n  }\n\n  render() {\n    return (\n      <Button variant=\"success\" size=\"sm\" onClick={this.goBack}>\n        Back\n      </Button>\n    );\n  }\n}\n\nexport default withRouter(Back);\n","import { Link } from 'react-router-dom';\nimport React, { Component } from 'react';\n\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Container from 'react-bootstrap/Container';\n\nimport Back from './Back';\nimport AddNew from './AddNew';\n\nexport default class Chapters extends Component {\n  constructor(props) {\n    super(props);\n    this.handleAdd = this.handleAdd.bind(this);\n  }\n\n  handleAdd(title) {\n    this.props.add(this.props.id, title);\n  }\n\n  render() {\n    const withId = book => book.id === this.props.id;\n    const book = this.props.books.find(withId);\n    return (\n      <Container>\n        <Row>\n          <Col>\n            <h1>{book.title}</h1>\n            <ul>\n              {book.chapters.map(chapter => {\n                return (\n                  <li key={chapter.id}>\n                    <Link to={`/books/${book.id}/chapters/${chapter.id}`}>\n                      {chapter.title}\n                    </Link>\n                  </li>\n                );\n              })}\n              <li>\n                <AddNew \n                  placeholder=\"Chapter title\"\n                  add={this.handleAdd}\n                />\n              </li>\n            </ul>\n          </Col>\n        </Row>\n        <Row>\n          <Col><Back /></Col>\n        </Row>\n      </Container>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Container from 'react-bootstrap/Container';\n\nimport Back from './Back';\nimport AddNew from './AddNew';\n\nexport default class Arguments extends Component {\n  constructor(props) {\n    super(props);\n    this.handleAdd = this.handleAdd.bind(this);\n  }\n\n  get chapter() {\n    const withBookId = book => book.id === this.props.bookId;\n    const withChapterId = chapter => chapter.id === this.props.chapterId;\n    const book = this.props.books.find(withBookId);\n    return book.chapters.find(withChapterId);\n  }\n\n  handleAdd(argument) {\n    this.props.add(\n      this.props.bookId,\n      this.props.chapterId,\n      argument\n    );\n  }\n\n  render() {\n    const chapter = this.chapter;\n    return (\n      <Container>\n        <Row>\n          <Col>\n            <h1>{chapter.title}</h1>\n            <ul>\n              {chapter.arguments.map((argument, index) => {\n                return (\n                  <li key={index}>\n                    {argument}\n                  </li>\n                );\n              })}\n              <li>\n                <AddNew \n                  placeholder=\"Argument\"\n                  add={this.handleAdd}\n                />\n              </li>\n            </ul>\n          </Col>\n        </Row>\n        <Row>\n          <Col><Back /></Col>\n        </Row>\n      </Container>\n    );\n  }\n}\n","function lastId(items) {\n  let id = -1;\n  if(items.length > 0) {\n    id = items[items.length - 1].id;\n  }\n  return id;\n}\n\nfunction withNewBook(books, title) {\n  return [\n    ...books,\n    {id: lastId(books) + 1, title, chapters: []},\n  ];\n}\n\nfunction withNewChapter(books, bookId, title) {\n  const book = books.find(book => book.id === bookId);\n  book.chapters.push({\n    id: lastId(book.chapters) + 1,\n    title,\n    arguments: []\n  });\n  return books;\n}\n\nfunction withNewArgument(books, bookId, chapterId, argument) {\n  const book = books.find(book => book.id === bookId);\n  const chapter = book.chapters.find(chapter => chapter.id === chapterId);\n  chapter.arguments.push(argument);\n  return books;\n}\n\nexport default { withNewBook, withNewChapter, withNewArgument };\n","function fetch() {\n    let books = localStorage.getItem('books');\n    if(books === null) {\n        books = [];\n    } else {\n        books = JSON.parse(books);\n    }\n    return books;\n}\n\nfunction store(books) {\n    localStorage.setItem('books', JSON.stringify(books));\n}\n\nexport default { fetch, store };\n","import React, { Component } from 'react';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport Books from './Books';\nimport Chapters from './Chapters';\nimport Arguments from './Arguments';\n\nimport booksInMemory from './books/in-memory';\nimport booksInLocalStorage from './books/localStorage';\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { books: this.props.books };\n    \n    this.addBook = this.addBook.bind(this);\n    this.addChapter = this.addChapter.bind(this);\n    this.addArgument = this.addArgument.bind(this);\n  }\n\n  addBook(title) {\n    const books = booksInMemory.withNewBook(\n      this.state.books,\n      title\n    );\n    this.setState({ books });\n    booksInLocalStorage.store(books);\n  }\n\n  addChapter(bookId, title) {\n    const books = booksInMemory.withNewChapter(\n      this.state.books,\n      bookId,\n      title\n    );\n    this.setState({ books });\n    booksInLocalStorage.store(books);\n  }\n\n  addArgument(bookId, chapterId, argument) {\n    const books = booksInMemory.withNewArgument(\n      this.state.books,\n      bookId,\n      chapterId,\n      argument\n    );\n    this.setState({ books });\n    booksInLocalStorage.store(books);\n  }\n\n  render() {\n    return (\n      <Router>\n        <Switch>\n          <Route\n            path=\"/\"\n            exact\n            render={() => <Books books={this.state.books} addNew={this.addBook} />}\n          />\n          <Route \n            path=\"/books/:bookId/chapters/:chapterId\"\n            render={props => {\n              return (\n                <Arguments\n                  chapter=\"Chapter\"\n                  books={this.state.books}\n                  bookId={parseInt(props.match.params.bookId)}\n                  chapterId={parseInt(props.match.params.chapterId)}\n                  add={this.addArgument}\n                />\n              );\n            }}\n          />\n          <Route\n            path=\"/books/:id\"\n            render={props => {\n              return (\n                <Chapters \n                  books={this.state.books}\n                  id={parseInt(props.match.params.id)}\n                  add={this.addChapter}\n                />\n              );\n            }}\n          />\n        </Switch>\n      </Router>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport booksInLocalStorage from './books/localStorage';\n\nReactDOM.render(\n  <App books={booksInLocalStorage.fetch()} />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}